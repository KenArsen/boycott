{% comment %}
    This template displays a star rating from 1 to 5.
    Usage: {% include 'includes/_star_rating.html' with rating=product.get_rating %}
{% endcomment %}

{% with full_stars=rating|floatformat:0|add:"0" %}
    {% for i in "12345" %}
        {% if forloop.counter <= full_stars %}
            ⭐
        {% elif forloop.counter == full_stars|add:"1" and rating|floatformat:1|slice:"-1:" != "0" %}
            ☆
        {% else %}
            ☆
        {% endif %}
    {% endfor %}
{% endwith %}